[gd_scene load_steps=15 format=3 uid="uid://b2wlsr0kcgdh5"]

[ext_resource type="Script" path="res://scenes/dungeonrooms/enemies.gd" id="1_4ljd4"]
[ext_resource type="MeshLibrary" uid="uid://g7llljk035ev" path="res://hopefullyfinalgridmap.tres" id="1_dglv4"]
[ext_resource type="Script" path="res://scenes/dungeonrooms/room.gd" id="1_og8w6"]
[ext_resource type="PackedScene" uid="uid://c8leysd8nl2tm" path="res://scenes/enemies/ladybug/ladybug.tscn" id="2_66tpm"]
[ext_resource type="PackedScene" uid="uid://b1bfg04b8ycqf" path="res://scenes/player.tscn" id="2_xtvle"]
[ext_resource type="Script" path="res://scripts/dungeonrooms/room_manager.gd" id="3_yguxx"]
[ext_resource type="Script" path="res://scenes/dungeonrooms/RoomTrigger.gd" id="5_0ihdu"]
[ext_resource type="Script" path="res://scenes/dungeonrooms/enemy_spawner.gd" id="7_eiv02"]
[ext_resource type="Script" path="res://scenes/dungeonrooms/door.gd" id="7_evc3h"]
[ext_resource type="PackedScene" uid="uid://dim7cy7dlks87" path="res://scenes/enemies/tick.tscn" id="9_v4oev"]
[ext_resource type="PackedScene" uid="uid://ckdmoytquc0qd" path="res://scripts/enemies/workerbee.tscn" id="10_0hawt"]

[sub_resource type="BoxShape3D" id="BoxShape3D_grc8x"]
size = Vector3(10.6507, 0.371948, 15.0621)

[sub_resource type="BoxShape3D" id="BoxShape3D_mgyrc"]
size = Vector3(1.94293, 1, 0.86438)

[sub_resource type="BoxShape3D" id="BoxShape3D_s7u7w"]
size = Vector3(1.51807, 1, 1)

[node name="RoomNo2" type="Node3D"]
script = ExtResource("1_og8w6")
enemy_spawner = NodePath("Enemy_spawner")

[node name="RoomTrigger" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.727374, 0, 3.81612)
collision_layer = 256
collision_mask = 256
script = ExtResource("5_0ihdu")

[node name="CollisionShape3D" type="CollisionShape3D" parent="RoomTrigger"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.55832, 0.83457, -4.406)
shape = SubResource("BoxShape3D_grc8x")

[node name="Enemies" type="Node3D" parent="." node_paths=PackedStringArray("door") groups=["enemies"]]
script = ExtResource("1_4ljd4")
door = NodePath("../door/door")

[node name="Enemy_spawner" type="Node3D" parent="."]
script = ExtResource("7_eiv02")
enemy_scenes = [ExtResource("2_66tpm"), ExtResource("9_v4oev"), ExtResource("10_0hawt")]
enemies_parent = NodePath("../Enemies")

[node name="Marker3D" type="Marker3D" parent="Enemy_spawner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.09823, 0, 0.766806)

[node name="Marker3D2" type="Marker3D" parent="Enemy_spawner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.08615, 0, -2.2148)

[node name="Marker3D3" type="Marker3D" parent="Enemy_spawner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.03722, 0, -2.42925)

[node name="Marker3D4" type="Marker3D" parent="Enemy_spawner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.293654, 0, 0.816446)

[node name="Marker3D5" type="Marker3D" parent="Enemy_spawner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.03405, 0, 0.617623)

[node name="GridMap" type="GridMap" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)
mesh_library = ExtResource("1_dglv4")
cell_size = Vector3(0.5, 0.5, 0.5)
cell_scale = 0.5
collision_layer = 5
collision_mask = 5
data = {
"cells": PackedInt32Array(65536, 2, 32, 65536, 3, 32, 65537, 2, 32, 65537, 1, 32, 65536, 1, 32, 131071, 1, 32, 131070, 1, 32, 131070, 2, 32, 131071, 3, 32, 131071, 4, 32, 65536, 7, 32, 65536, 8, 32, 65536, 9, 32, 131071, 9, 32, 131070, 9, 32, 131069, 9, 32, 131069, 8, 32, 131068, 8, 32, 131070, 8, 32, 131071, 8, 32, 65537, 8, 32, 131068, 9, 32, 65537, 9, 32, 65538, 9, 32, 65539, 9, 32, 65539, 8, 32, 65539, 7, 32, 65539, 6, 32, 65539, 5, 32, 65539, 4, 32, 65539, 3, 32, 65539, 2, 32, 65539, 1, 32, 65540, 1, 32, 65540, 0, 32, 65540, 65535, 32, 65540, 65534, 32, 65540, 65533, 32, 65540, 65532, 32, 65540, 65531, 32, 65539, 65531, 32, 65538, 65530, 32, 65538, 65529, 32, 65537, 65529, 32, 65536, 65529, 32, 65536, 65528, 32, 131071, 65528, 32, 131070, 65528, 32, 131070, 65529, 32, 131069, 65529, 32, 131069, 65530, 32, 131068, 65530, 32, 131068, 65531, 32, 131068, 65532, 32, 131068, 65533, 32, 131068, 65534, 32, 131068, 65535, 32, 131068, 0, 32, 131068, 1, 32, 131068, 2, 32, 131068, 3, 32, 131068, 4, 32, 131068, 5, 32, 131068, 6, 32, 131068, 7, 32, 131069, 7, 32, 131070, 7, 32, 131071, 7, 32, 65537, 7, 32, 65538, 7, 32, 65538, 8, 32, 65538, 6, 32, 65538, 5, 32, 65537, 5, 32, 65536, 6, 32, 131071, 6, 32, 131070, 6, 32, 131069, 6, 32, 65537, 6, 32, 131071, 5, 32, 131070, 5, 32, 131069, 5, 32, 65536, 5, 32, 65537, 4, 32, 65536, 4, 32, 131070, 4, 32, 131069, 4, 32, 65538, 4, 32, 65537, 3, 32, 65538, 3, 32, 131070, 3, 32, 131069, 3, 32, 65538, 2, 32, 65538, 1, 32, 65538, 0, 32, 65538, 65535, 32, 65538, 65534, 32, 65538, 65533, 32, 65538, 65532, 32, 65539, 65533, 32, 65539, 65534, 32, 65539, 65532, 32, 65539, 65535, 32, 65539, 0, 32, 65538, 65531, 32, 65537, 65535, 32, 65537, 0, 32, 65536, 65535, 32, 65536, 65533, 32, 65536, 65531, 32, 65536, 65530, 32, 65537, 65530, 32, 65537, 65531, 32, 65537, 65532, 32, 65536, 65534, 32, 65536, 0, 32, 65536, 65532, 32, 65537, 65533, 32, 65537, 65534, 32, 131071, 2, 32, 131070, 65535, 32, 131070, 65533, 32, 131070, 65531, 32, 131070, 65532, 32, 131070, 65534, 32, 131070, 0, 32, 131069, 65532, 32, 131069, 65533, 32, 131069, 65534, 32, 131069, 1, 32, 131069, 2, 32, 131069, 0, 32, 131069, 65535, 32, 131069, 65531, 32, 131070, 65530, 32, 131071, 65530, 32, 131071, 65529, 32, 131071, 65527, 32, 131071, 65531, 32, 131071, 65532, 32, 131071, 65533, 32, 131071, 65534, 32, 131071, 65535, 32, 65536, 65527, 32, 65537, 65527, 32, 65537, 65526, 32, 65536, 65526, 32, 65537, 65528, 32, 131071, 65526, 32, 65536, 65525, 32, 131071, 65525, 32, 131070, 65527, 32, 131069, 65528, 32, 131068, 65529, 32, 131067, 65535, 32, 131067, 0, 32, 131067, 1, 32, 131067, 2, 32, 131067, 3, 32, 131067, 4, 32, 131067, 5, 32, 131067, 6, 32, 131067, 7, 32, 131067, 8, 32, 131067, 9, 32, 65540, 9, 32, 65540, 8, 32, 65540, 7, 32, 65540, 2, 32, 65540, 3, 32, 65540, 4, 32, 65540, 5, 32, 65540, 6, 32, 131071, 0, 32, 65541, 65535, 32, 65541, 0, 32, 65541, 1, 32, 65541, 2, 32, 65541, 3, 32, 65541, 4, 32, 65541, 5, 32, 65541, 9, 32, 65541, 8, 32, 65541, 7, 32, 65541, 6, 32, 65540, 65530, 32, 65538, 65528, 32, 65537, 65525, 32, 65538, 65527, 32, 65539, 65528, 32, 65540, 65529, 32, 65539, 65530, 32, 65539, 65529, 32, 65536, 65524, 32, 65537, 65524, 32, 131071, 65524, 32, 65542, 65535, 32, 65542, 0, 32, 65542, 1, 32, 65542, 2, 32, 65542, 3, 32, 65542, 4, 32, 65542, 8, 32, 65542, 9, 32, 65542, 7, 32, 65542, 6, 32, 65542, 5, 32, 65542, 10, 32, 65541, 10, 32, 65540, 10, 32, 65539, 10, 32, 65538, 10, 32, 65537, 10, 32, 65536, 10, 32, 131071, 10, 32, 131070, 10, 32, 131069, 10, 32, 131068, 10, 32, 131067, 10, 32, 131066, 10, 32, 131066, 9, 32, 131066, 8, 32, 131066, 7, 32, 131066, 6, 32, 131066, 5, 32, 131066, 4, 32, 131066, 3, 32, 131066, 2, 32, 131066, 1, 32, 131066, 0, 32, 131066, 65535, 32, 131065, 65535, 32, 131065, 0, 32, 131065, 1, 32, 131065, 2, 32, 131065, 3, 32, 131065, 4, 32, 131065, 5, 32, 131065, 6, 32, 131065, 7, 32, 131065, 8, 32, 131065, 9, 32, 131065, 10, 32, 131065, 11, 32, 131066, 11, 32, 131067, 11, 32, 131068, 11, 32, 131069, 11, 32, 131070, 11, 32, 131071, 11, 32, 65536, 11, 32, 65537, 11, 32, 65538, 11, 32, 65539, 11, 32, 65540, 11, 32, 65541, 11, 32, 65542, 11, 32, 65543, 11, 32, 65543, 10, 32, 65543, 9, 32, 65543, 8, 32, 65543, 7, 32, 65543, 6, 32, 65543, 5, 32, 65543, 4, 32, 65543, 3, 32, 65543, 2, 32, 65543, 1, 32, 65543, 0, 32, 65543, 65535, 32, 131080, 65534, 3, 131080, 65535, 3, 131080, 0, 3, 131080, 1, 3, 131080, 2, 3, 131080, 3, 3, 131080, 4, 3, 131080, 5, 3, 131080, 6, 3, 131080, 7, 3, 131080, 8, 3, 131080, 9, 3, 131080, 10, 3, 131080, 11, 3, 131080, 12, 3, 131079, 12, 3, 131078, 12, 3, 131077, 12, 3, 131076, 12, 3, 131075, 12, 3, 131074, 12, 3, 131073, 12, 3, 131072, 12, 3, 196607, 12, 3, 196606, 12, 3, 196605, 12, 3, 196604, 12, 3, 196603, 12, 3, 196602, 12, 3, 196601, 12, 3, 196600, 12, 3, 196600, 11, 3, 196600, 10, 3, 196600, 9, 3, 196600, 8, 3, 196600, 7, 3, 196600, 6, 3, 196600, 5, 3, 196600, 4, 3, 196600, 3, 3, 196600, 2, 3, 196600, 1, 3, 196600, 0, 3, 196600, 65535, 3, 196600, 65534, 3, 196601, 65534, 3, 196602, 65534, 3, 196603, 65534, 3, 196603, 65533, 3, 196603, 65532, 3, 196603, 65531, 3, 196603, 65530, 3, 196603, 65529, 3, 196603, 65528, 3, 196602, 65528, 3, 196602, 65527, 3, 131079, 65534, 3, 131078, 65534, 3, 131077, 65534, 3, 131077, 65533, 3, 131077, 65532, 3, 131077, 65531, 3, 131077, 65530, 3, 131077, 65529, 3, 131077, 65528, 3, 131077, 65527, 3, 131077, 65526, 3, 131077, 65525, 3, 131076, 65528, 3, 131076, 65527, 3, 196604, 65528, 3, 196604, 65527, 3, 196605, 65527, 3, 196605, 65526, 3, 196606, 65526, 3, 196606, 65525, 3, 196606, 65524, 3, 196606, 65523, 3, 196607, 65523, 3, 131072, 65523, 3, 131073, 65523, 3, 131074, 65523, 3, 131074, 65524, 3, 131074, 65525, 3, 131074, 65526, 3, 131075, 65526, 3, 131075, 65527, 3)
}
metadata/_editor_floor_ = Vector3(0, 2, 0)

[node name="Player" parent="." instance=ExtResource("2_xtvle")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.585326, 0, 3.79532)
collision_layer = 261
collision_mask = 5

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866024, -0.433016, 0.250001, 0, 0.499998, 0.866027, -0.500003, 0.75, -0.43301, 0, 0, 9.50648e-07)
shadow_enabled = true

[node name="Area3D" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, -5.47715)
collision_layer = 4
collision_mask = 4
script = ExtResource("3_yguxx")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0463721, 1.11884, -0.585549)
shape = SubResource("BoxShape3D_mgyrc")

[node name="door" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -5)

[node name="door" type="StaticBody3D" parent="door"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0, -4)
script = ExtResource("7_evc3h")

[node name="CollisionShape3D" type="CollisionShape3D" parent="door/door"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.741, 0, 4)
shape = SubResource("BoxShape3D_s7u7w")

[connection signal="body_entered" from="RoomTrigger" to="." method="_on_room_trigger_body_entered"]
[connection signal="body_entered" from="Area3D" to="Area3D" method="_on_body_entered"]
[connection signal="body_exited" from="Area3D" to="Area3D" method="_on_body_exited"]
